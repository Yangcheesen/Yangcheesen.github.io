$(document).ready(function(){function e(e){var s={deviceId:e};$.ajax({url:"/beta/jailbreak/getFirmwares",data:s,type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){if("ErrorNoResult"==e);else{$("#iosVersion").empty().append("<option value>-------</option>");for(var s=e.length,a=!1,i=0;i<s;i++)"10.1.1"==e[i]?a||($("#iosVersion").append($("<option>",{value:e[i],text:e[i]})),a=!0):$("#iosVersion").append($("<option>",{value:e[i],text:e[i]}))}}})}function s(e,s){for(var a=e.length-1;a>=0;a--)$("#model").append($("<option>",{value:s[a],text:e[a]}))}var a=new Array("2G","3G","3Gs","4","4s","5","5c","5s","SE","6","6 Plus","6s","6s Plus","7","7 Plus","8","8 Plus","X"),i=new Array("36","37","38","39","42","44","46","48","53","50","49","51","52","54","55","69","68","73"),r=new Array("1","2","3","4","Mini","Mini 2","Mini 3","Mini 4","Air","Air 2","Pro 9.7-inch","Pro 10.5-inch","Pro 12.9-inch","Pro 12.9-inch 2nd gen."),n=new Array("5","6","15","18","12","24","27","29","21","31","33","65","35","67"),o=Array("1G","2G","3G","4G","5G","6G"),t=new Array("58","59","60","61","62","63");s(a,i),$("#device").change(function(){$("#jailbreak-result").empty();var e=$(this).val();$("#model").empty().append("<option value>-------</option>"),$("#iosVersion").empty().append("<option value>-------</option>"),"iphone"==e?s(a,i):"ipad"==e?s(r,n):"ipod"==e&&s(o,t)}),$("#model").change(function(){var s=$(this).val();$("#jailbreak-result").empty(),e(s)}),$("#iosVersion").change(function(){$("#jailbreak-result").empty()}),$("#submitBtn").click(function(){var e=$("#model").val(),s=$("#iosVersion").val();if(e.length<1)return $("#error-mssg").text("Choose your device model"),void $("#error-mssg").css("display","block");if(s.length<1)return $("#error-mssg").text("Choose the firmware version"),void $("#error-mssg").css("display","block");$("#error-mssg").css("display","none"),$("#submitBtn").hide(),$("#loader").css("display","block");var a={device_id:e,iosVersion:s};$.ajax({url:"/beta/jailbreak/getJailbreak",data:a,type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){if("NoJailbreak"==e){var s='<div id="no-jailbreak">Sorry, there is no jailbreak for your device <span class="large-emoji">☹️</span></div>';$("#jailbreak-result").empty().append(s),$("#submitBtn").show(),$("#loader").css("display","none")}else if("comingSoon"==e){var s="<div id='no-jailbreak'>We dont have jailbreak information for this firmware, but we'll add it soon.</div>";$("#jailbreak-result").empty().append(s),$("#submitBtn").show(),$("#loader").css("display","none")}else $("#jailbreak-result").empty().append(e),$("#submitBtn").show(),$("#loader").css("display","none")}})}),$("#subscribeBtn").click(function(){var e=$("#email").val();if(!(e.length<1)){$("#subscribeBtn").hide(),$("#subscriptionLoader").css("display","inline-block");var s={email:e};$.ajax({url:"/jailbreak-wizard-can-i-jailbreak/subscribe",data:s,type:"POST",headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(e){if($("#subscriptionLoader").css("display","none"),$("#subscribeBtn").show(),"success subscribe"==e){var s="<div class='styledMessage green'>Awesome! You've been subscribed to receive jailbreak notifications <span class='large-emoji'>🎉</span></div>";$("#subscribeMessage").empty().append(s)}else{var s="<div class='styledMessage red'>"+e+"</div>";$("#subscribeMessage").empty().append(s)}}})}})});
